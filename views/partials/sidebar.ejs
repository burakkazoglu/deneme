<aside class="sidebar" id="sidebar">
  <div class="sidebar__logo">
    <img src="<%= settings.logoUrl %>" alt="Influencer Planner Logo" />
  </div>
  <nav class="sidebar__nav">
    <% navItems.forEach((item) => { %>
      <% const isActive = item.href && currentPath === item.href; %>
      <% const isOpen = item.children && item.children.some((child) => currentPath.startsWith(child.href)); %>
      <% if (item.children) { %>
        <details class="nav-group" <%= isOpen ? 'open' : '' %>>
          <summary class="nav-group__title">
            <span class="material-icons nav-icon"><%= item.icon %></span>
            <span><%= item.label %></span>
          </summary>
          <ul>
            <% item.children.forEach((child) => { %>
              <li>
                <a class="<%= currentPath.startsWith(child.href) ? 'nav-link nav-link--child is-active' : 'nav-link nav-link--child' %>" href="<%= child.href %>">
                  <span class="material-icons nav-icon">chevron_right</span>
                  <span><%= child.label %></span>
                </a>
              </li>
            <% }) %>
          </ul>
        </details>
      <% } else { %>
        <a class="<%= isActive ? 'nav-link is-active' : 'nav-link' %>" href="<%= item.href %>">
          <span class="material-icons nav-icon"><%= item.icon %></span>
          <span><%= item.label %></span>
        </a>
      <% } %>
    <% }) %>
  </nav>
</aside>
